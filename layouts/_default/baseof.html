<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en" }}" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} â€¢ {{ .Site.Title }}{{ end }}</title>

  {{ $description := .Description | default .Site.Params.description | default .Summary | default .Site.Title }}
  {{ if $description }}
  <meta name="description" content="{{ $description }}">
  {{ end }}

  {{ if .Site.Params.author }}
  <meta name="author" content="{{ .Site.Params.author }}">
  {{ end }}

  <link rel="canonical" href="{{ .Permalink | absURL }}">

  {{ with .OutputFormats.Get "rss" }}
  <link rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}" href="{{ .Permalink }}">
  {{ end }}

  {{ $style := resources.Get "css/main.css" | resources.Minify }}
  <link rel="stylesheet" href="{{ $style.RelPermalink }}">

  <script>
    (function() {
      const storedTheme = localStorage.getItem('theme');
      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = storedTheme || (systemPrefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
    })();
  </script>
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>

  {{ partial "header.html" . }}

  <main id="main">
    {{ block "main" . }}{{ end }}
  </main>

  {{ partial "footer.html" . }}

  {{ $js := resources.Get "js/main.js" | resources.Minify }}
  <script src="{{ $js.RelPermalink }}"></script>
</body>
</html>
